<odoo>
    <data>

        <!-- Vista tree Generos -->
        <record id="view_generos_tree" model="ir.ui.view">
            <field name="name">view.generos.tree</field>
            <field name="model">contactos_extend.generos</field>
            <field name="arch" type="xml">
                <tree string="Generos">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form Generos -->
        <record id="view_generos_form" model="ir.ui.view">
            <field name="name">view_generos_form</field>
            <field name="model">contactos_extend.generos</field>
            <field name="arch" type="xml">
                <form string="Generos">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción Generos -->
        <record model="ir.actions.act_window" id="contactos_extend_generos">
            <field name="name">Genero</field>
            <field name="res_model">contactos_extend.generos</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Vista tree GrupoRh -->
        <record id="view_gruporh_tree" model="ir.ui.view">
            <field name="name">view.gruporh.tree</field>
            <field name="model">contactos_extend.gruporh</field>
            <field name="arch" type="xml">
                <tree string="Grupo Rh">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form GrupoRh -->
        <record id="view_gruporh_form" model="ir.ui.view">
            <field name="name">view_gruporh_form</field>
            <field name="model">contactos_extend.gruporh</field>
            <field name="arch" type="xml">
                <form string="Grupo Rh">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción GrupoRh -->
        <record model="ir.actions.act_window" id="contactos_extend_gruporh">
            <field name="name">Grupo Rh</field>
            <field name="res_model">contactos_extend.gruporh</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Vista tree TiposPaciente -->
        <record id="view_tipospaciente_tree" model="ir.ui.view">
            <field name="name">view.tipospaciente.tree</field>
            <field name="model">contactos_extend.tipospaciente</field>
            <field name="arch" type="xml">
                <tree string="Tipos de Pacientes">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form TiposPaciente -->
        <record id="view_tipospaciente_form" model="ir.ui.view">
            <field name="name">view_tipospaciente_form</field>
            <field name="model">contactos_extend.tipospaciente</field>
            <field name="arch" type="xml">
                <form string="Tipos de Pacientes">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción TiposPaciente -->
        <record model="ir.actions.act_window" id="contactos_extend_tipospaciente">
            <field name="name">Tipos de Pacientes</field>
            <field name="res_model">contactos_extend.tipospaciente</field>
            <field name="view_mode">tree,form</field>
        </record>



        <!-- Vista tree EstadoCivil -->
        <record id="view_estadocivil_tree" model="ir.ui.view">
            <field name="name">view.estadocivil.tree</field>
            <field name="model">contactos_extend.estadocivil</field>
            <field name="arch" type="xml">
                <tree string="Estado Civil">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form EstadoCivil -->
        <record id="view_estadocivil_form" model="ir.ui.view">
            <field name="name">view_estadocivil_form</field>
            <field name="model">contactos_extend.estadocivil</field>
            <field name="arch" type="xml">
                <form string="Estado Civil">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción EstadoCivil -->
        <record model="ir.actions.act_window" id="contactos_extend_estadocivil">
            <field name="name">Estado Civil</field>
            <field name="res_model">contactos_extend.estadocivil</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Vista tree Especialidades -->
        <record id="view_especialidades_tree" model="ir.ui.view">
            <field name="name">view.especialidades.tree</field>
            <field name="model">contactos_extend.especialidades</field>
            <field name="arch" type="xml">
                <tree string="Especialidades">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form Especialidades -->
        <record id="view_especialidades_form" model="ir.ui.view">
            <field name="name">view_especialidades_form</field>
            <field name="model">contactos_extend.especialidades</field>
            <field name="arch" type="xml">
                <form string="Especialidades">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción Especialidades -->
        <record model="ir.actions.act_window" id="contactos_extend_especialidades">
            <field name="name">Especialidades</field>
            <field name="res_model">contactos_extend.especialidades</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Vista tree Medicos -->
        <record id="view_medicos_tree" model="ir.ui.view">
            <field name="name">view.medicos.tree</field>
            <field name="model">contactos_extend.medicos</field>
            <field name="arch" type="xml">
                <tree string="Medicos">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form Medicos -->
        <record id="view_medicos_form" model="ir.ui.view">
            <field name="name">view_medicos_form</field>
            <field name="model">contactos_extend.medicos</field>
            <field name="arch" type="xml">
                <form string="Medicos">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción Medicos -->
        <record model="ir.actions.act_window" id="contactos_extend_medicos">
            <field name="name">Medicos</field>
            <field name="res_model">contactos_extend.medicos</field>
            <field name="view_mode">tree,form</field>
        </record>



        <!-- Vista tree Cuartos -->
        <record id="view_cuartos_tree" model="ir.ui.view">
            <field name="name">view.cuartos.tree</field>
            <field name="model">contactos_extend.cuartos</field>
            <field name="arch" type="xml">
                <tree string="Cuartos">
                    <field name="name"/>
                </tree>
            </field>
        </record>

         <!-- Vista form Cuartos -->
        <record id="view_cuartos_form" model="ir.ui.view">
            <field name="name">view_cuartos_form</field>
            <field name="model">contactos_extend.cuartos</field>
            <field name="arch" type="xml">
                <form string="Cuartos">
                    <sheet>
                        <group name="group_top">
                            <group name="group_left">
                                <field name="name"/>
                            </group>
                            <group name="group_right" col="4">
                                <field name="detalle"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Acción Cuartos -->
        <record model="ir.actions.act_window" id="contactos_extend_cuartos">
            <field name="name">Cuartos</field>
            <field name="res_model">contactos_extend.cuartos</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- Modificamos el list_view de Contactos -->
        <record model="ir.ui.view" id="res_partner_tree_extend_view">
            <field name="name">res.partner.tree.extend.view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree/field[@name='display_name']" position="before">
                    <field name="id"/>
                    <field name="cuarto"/>
                    <field name="fecha_ingreso"/>
                </xpath>
                <xpath expr="//tree/field[@name='display_name']" position="after">
                    <field name="medico"/>
                </xpath>
                <field name="phone" position="replace">
                    <field name="phone" invisible="1"/>
                </field> 
                <field name="email" position="replace">
                    <field name="email" invisible="1"/>
                </field> 
                <field name="user_id" position="replace">
                    <field name="user_id" invisible="1"/>
                </field>                 
                <field name="city" position="replace">
                    <field name="city" invisible="1"/>
                </field> 
                <field name="country_id" position="replace">
                    <field name="country_id" invisible="1"/>
                </field> 
                <field name="company_id" position="replace">
                    <field name="company_id" invisible="1"/>
                </field>                
            </field>
        </record>


        <!-- Modificamos el list view de sale.order.line -->
        <record model="ir.ui.view" id="res_sale_order_line_extend_view">
            <field name="name">res.sale.order.line.extend.view</field>
            <field name="model">sale.order.line</field>
            <field name="inherit_id" ref="sale.view_order_line_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree/field[@name='name']" position="after">
                    <field name="nombre_categoria"/>
                </xpath>
            </field>
        </record>


        <!-- Modificamos el kanban de Contactos -->
        <record model="ir.ui.view" id="res_partner_kanban_extend_view">
            <field name="name">res.partner.kanban.extend.view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.res_partner_kanban_view"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@class='oe_kanban_details d-flex flex-column']/ul/li[last()]" position="after">
                    <li><field name="id"/></li>
                </xpath>
            </field>
        </record>


        <!-- Modificamos el form view de Contactos -->
        <record model="ir.ui.view" id="res_partner_form_extend_view">
            <field name="name">res.partner.form.extend.view</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <field name="function" position="replace">
                    <field name="function" attrs="{'invisible':True}"/>
                </field> 
                <field name="website" position="replace">
                    <field name="website" attrs="{'invisible':True}"/>
                </field>
                <field name="category_id" position="replace">
                    <field name="category_id" attrs="{'invisible':True}"/>
                </field>
                <field name="title" position="replace">
                    <field name="title" attrs="{'invisible':True}"/>
                </field>                
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='type']" position="after">
                    <field name="id" string="ID"/>
                    <field name="es_paciente"/>
                    <!-- <field name="folio"/> -->
                </xpath>                
                <xpath expr="//form[1]/sheet[1]/group[1]/group[2]/field[@name='category_id']" position="after">
                    <field name="fecha_nacimiento"/>
                    <field name="edad"/>
                    <field name="genero"/>
                    <field name="gruporh"/>
                    <field name="tipospaciente"/>
                    <field name="estadocivil"/>
                    <field name="ocupacion"/>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='vat']" position="after">
                    <field name="importe_medic"/>
                    <field name="importe_insum"/>
                    <field name="importe_servi"/>
                    <field name="importe"/>
                    <field name="impuestos"/>
                    <field name="total"/>
                </xpath>
                <xpath expr="//form[1]/sheet[1]/notebook[1]/page[last()]" position="after">
                    <page name="admision" string="Datos de admision">
                        <group name="container_row_3">
                            <group string="" name="group_admision_1" priority="1">
                                <field name="fecha_ingreso"/>
                                <field name="cuarto"/>
                                <field name="especialidad"/>
                                <field name="medico"/>
                                <field name="servicio"/>
                                <field name="alergias"/>
                            </group>
                            <group name="group_admision_2" string="">
                                <field name="motivo_consulta"/>
                            </group>
                        </group>                        
                    </page>
                </xpath>

            </field>
        </record>   


        <!-- Creamos el list view de sale.order.line -->
        <record model="ir.actions.act_window" id="sale_order_line_tree_view">
            <field name="name">sale.order.line.tree.view</field>
            <field name="res_model">sale.order.line</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('order_partner_id','=',default_id)]</field>
        </record>




        <!-- Creamos un Smart button en Contactos para mostrar los medicamentos -->
        <record model="ir.ui.view" id="medicamentos_smart_button">
            <field name="name">medicamentos.smart.button</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <div name="button_box" position="inside">
                    <button class="oe_stat_button" type="action" name="%(sale_order_line_tree_view)d" context="{'default_id':id}" icon="fa-medkit">
                        <field string="Medicamentos" name="count_reg" widget="statinfo" />
                    </button>
                </div>
            </field>
        </record>

        <menuitem name="Pacientes" id="contactos_extend.menu_pacientes" 
            parent="contacts.menu_contacts" sequence="2" action=""/>

        <menuitem name="Generos" id="contactos_extend.menu_generos" 
            parent="contactos_extend.menu_pacientes" sequence="1" action="contactos_extend_generos"/>

        <menuitem name="GrupoRh" id="contactos_extend.menu_gruporh" 
            parent="contactos_extend.menu_pacientes" sequence="2" action="contactos_extend_gruporh"/>

        <menuitem name="TiposPaciente" id="contactos_extend.menu_tipospaciente" 
            parent="contactos_extend.menu_pacientes" sequence="3" action="contactos_extend_tipospaciente"/>

        <menuitem name="EstadoCivil" id="contactos_extend.menu_estadocivil" 
            parent="contactos_extend.menu_pacientes" sequence="4" action="contactos_extend_estadocivil"/>

        <menuitem name="Especialidades" id="contactos_extend.menu_especialidades" 
            parent="contactos_extend.menu_pacientes" sequence="5" action="contactos_extend_especialidades"/>

        <menuitem name="Medicos" id="contactos_extend.menu_medicos" 
            parent="contactos_extend.menu_pacientes" sequence="6" action="contactos_extend_medicos"/>

        <menuitem name="Cuartos" id="contactos_extend.menu_cuartos" 
            parent="contactos_extend.menu_pacientes" sequence="7" action="contactos_extend_cuartos"/>


    </data>
</odoo>